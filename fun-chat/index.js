(()=>{"use strict";var n={11:(n,e,t)=>{t.d(e,{A:()=>l});var o=t(601),r=t.n(o),i=t(314),a=t.n(i),s=t(768),c=a()(r());c.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap);"]),c.i(s.A),c.push([n.id,'html{line-height:1.15;-webkit-text-size-adjust:100%}html body{margin:0;box-sizing:border-box;font-family:"Poppins",sans-serif}html *{margin:0;box-sizing:border-box}html a{background-color:rgba(0,0,0,0)}html button,html input,html optgroup,html select,html textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}.container{margin:0 auto;max-width:1440px;min-height:100vh;max-height:max-content;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#282727}',""]);const l=c},768:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,".login__form {\n    margin-inline: 20px;\n    padding: 40px 16px;\n    max-width: 360px;\n    background: hsla(0, 0%, 100%, 0.2);\n    border: 2px solid hsla(0, 0%, 100%, 0.7);\n    color: hsl(0, 0%, 100%);\n    border-radius: 16px;\n    backdrop-filter: blur(16px);\n\n    .login__title {\n        margin: 20px 0;\n        text-align: center;\n        font-size: 40px;\n    }\n}\n\n.login__body {\n    display: grid;\n    row-gap: 20px;\n    margin-bottom: 16px;\n\n    .login__body_wrap {\n        display: grid;\n        padding-inline: 20px;\n        grid-template-columns: 1fr max-content;\n        column-gap: 12px;\n        align-items: center;\n        border: 2px solid hsla(0, 0%, 100%, 0.7);\n        border-radius: 64px;\n    }\n\n    .login__body_input {\n        outline: none;\n        width: 100%;\n        background: none;\n        border: none;\n        color: hsl(0, 0%, 100%);\n        padding-block: 16px;\n\n        &::placeholder {\n            color: hsl(0, 0%, 100%);\n        }\n    }\n}\n\n.login__button {\n    width: 100%;\n    padding: 16px;\n    margin-bottom: 16px;\n    background-color: hsl(0, 0%, 100%);\n    border-radius: 64px;\n    color: hsl(0, 0%, 0%);\n    font-weight: 500;\n    cursor: pointer;\n    border: none;\n    outline: none;\n}",""]);const s=a},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);o&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],l=o.base?c[0]+o.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=t(u),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var h=r(m,o);o.byIndex=s,e.splice(s,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var i=o(n=n||[],r=r||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=t(i[a]);e[s].references--}for(var c=o(n,r),l=0;l<i.length;l++){var d=t(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=c}}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return n[o](i,i.exports,t),i.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{class n{constructor(n="ws://127.0.0.1:4000"){this.connection=new WebSocket(n)}userOperation(n,e,t){const o={id:n.includes("IN")?`login_${e}`:`logout_${e}`,type:n,payload:{user:{login:e,password:t}}},r=JSON.stringify(o);this.connection.send(r)}}const e=(n,e,t=void 0,o=void 0,r=void 0)=>{const i=document.createElement(`${n}`);return i.classList.add(`${e}`),t&&(i.innerText=t),r&&r.forEach((n=>{Object.keys(n).forEach((e=>{i.setAttribute(e,n[e])}))})),o&&o.append(i),i};class o{constructor(n,e=1){this.valueInputs=n,this.amountBtn=e}buildForm(n){const t=e("form","login__form",void 0,void 0,[{action:""}]);return e("h2","login__title","Login",t),t.addEventListener("submit",(e=>{e.preventDefault();const[o,r]=t.querySelectorAll("input");n("USER_LOGIN",o.value,r.value),this.removeForm(t)})),t}buildInputs(){const n=e("div","login__body"),t=document.createDocumentFragment();return this.valueInputs.forEach(((n,o)=>{const r=e("div","login__body_wrap");e("input","login__body_input",void 0,r,[{type:n},{placeholder:0===o?"First Name":"Password"},{pattern:""+(0===o?"^[A-ZА-Я][a-zа-я\\-]{2,}":"^[A-Za-z0-9]{3,}")},{title:0===o?"The first letter must be capitalized. Min length: 3":"Min length: 4"},{required:""}]),t.append(r)})),n.appendChild(t),n}buildButton(){const n=document.createDocumentFragment();for(let t=1;t<=this.amountBtn;t+=1)if(1===t){const t=e("button","login__button","Login",void 0,[{type:"submit"}]);n.appendChild(t)}else{const t=e("button","login__button","Info",void 0);n.appendChild(t)}return n}removeForm(n){n.remove()}render(n){const e=this.buildForm(n),t=this.buildInputs(),o=this.buildButton();return e.append(t),e.append(o),e}}class r{constructor(n){this.loginForm=new o(["text","password"],2),this.LoginRequest=n}render(n){n.append(this.loginForm.render(this.LoginRequest))}}class i{makeListUser(){return e("div","main-chat_list")}}class a{constructor(){this.userList=new i}makeWrap(){return e("div","main-wrap")}makeHeaderElems(n){const t=document.createDocumentFragment(),o=e("div","main-header_user",`User: ${n}`),r=e("div","main-header_control"),i=e("button","main-header_logout","LogOut");return r.append(e("h1","main-header_title","Fun chat"),e("button","main-header_info","Info"),i),t.append(o,r),t}makeChatBlock(){const n=e("div","main-chat");return n.append(this.userList.makeListUser()),n}render(){e("div","main-header").append(this.makeHeaderElems("Вася"),this.makeChatBlock()),this.makeWrap()}}class s{constructor(){this.mainPage=new a,this.websocket=new n,this.loginPage=new r(this.websocket.userOperation.bind(this.websocket))}initPage(){const n=document.getElementById("app");window.history.pushState({},"Login","login"),this.loginPage.render(n),window.onpopstate=n=>{console.log(`location: ${document.location.href}, state: ${JSON.stringify(n.state)}`)},console.log(document.location.origin),this.websocket.connection.onmessage=n=>{console.log(n.data)}}}var c=t(72),l=t.n(c),d=t(825),u=t.n(d),p=t(659),m=t.n(p),h=t(56),g=t.n(h),f=t(540),v=t.n(f),b=t(113),y=t.n(b),x=t(11),_={};_.styleTagTransform=y(),_.setAttributes=g(),_.insert=m().bind(null,"head"),_.domAPI=u(),_.insertStyleElement=v(),l()(x.A,_),x.A&&x.A.locals&&x.A.locals,(new class{constructor(){this.container=e("div","container",void 0,document.body),this.container.id="app",this.route=new s}render(){this.route.initPage(),console.log("Hello world")}}).render()})()})();